angular.module("farmplace").controller("UserCtrl",["$scope","UserService","$location","$window",function(e,o,r,n){e.saveSessStorage=function(e,o){n.sessionStorage.token=o,n.sessionStorage.userId=e},e.signup=function(){o.signup(e.newUser).then(function(o){e.saveSessStorage(o.data.id,o.data.token),r.url("/dashboard"),console.log(o)},function(e){console.log(e)})},e.login=function(){o.login(e.user).then(function(o){e.saveSessStorage(o.data.id,o.data.token),r.url("/dashboard"),console.log(o)},function(e){console.log(e)})}}]),angular.module("farmplace").value("baseUrl","http://localhost:5000"),angular.module("farmplace").factory("UserService",["$http","baseUrl",function(e,o){var r={};return r.signup=function(r){return e.post(o+"/api/signup",r).then(function(e){return e})},r.login=function(r){return e.post(o+"/api/login",r).then(function(e){return e})},r}]);var app=angular.module("farmplace",["ui.router"]);app.config(["$stateProvider","$urlRouterProvider","$locationProvider",function(e,o,r){e.state("landing",{url:"/",templateUrl:"app/views/landing.view.html",controller:"UserCtrl"}).state("signup",{url:"/signup",templateUrl:"app/views/signup.view.html",controller:"UserCtrl"}).state("dashboard",{url:"/dashboard",templateUrl:"app/views/dashboard.view.html",controller:"UserCtrl"}),o.otherwise("/"),r.html5Mode(!0)}]);